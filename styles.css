body.light-theme .lema-personalizada {
  color: #000000;
}
body.dark-theme .lema-personalizada {
  color: #ffffff;
}
body.light-theme .columna.derecha h2 {
  color: #000000;
}
body.dark-theme .columna.derecha h2 {
  color: #ffffff;
}
body.light-theme .nombre-tarea label,
body.light-theme .acciones-wrapper label,
body.light-theme .detalle-wrapper label,
body.light-theme .fallas-wrapper label,
body.light-theme .descripcion label,
body.light-theme .comentarios label,
body.light-theme .detalle-linea label {
  color: #000000;
}
body.dark-theme .nombre-tarea label,
body.dark-theme .acciones-wrapper label,
body.dark-theme .detalle-wrapper label,
body.dark-theme .fallas-wrapper label,
body.dark-theme .descripcion label,
body.dark-theme .comentarios label,
body.dark-theme .detalle-linea label {
  color: #ffffff;
}
body.light-theme .task-card {
  background: #ffffff;
}
body.dark-theme .task-card {
  background: #ffffff36;
}
/* Modo claro: color para inputs, selects y textareas */
body.light-theme .detalle-linea input,
body.light-theme .detalle-linea select,
body.light-theme .detalle-linea textarea,
body.light-theme .grupo-tiempo input,
body.light-theme .grupo-tiempo select,
body.light-theme .nombre-tarea input[type="text"],
body.light-theme .acciones-wrapper input,
body.light-theme .fallas-wrapper input,
body.light-theme .detalle-wrapper input,
body.light-theme .descripcion textarea,
body.light-theme .comentarios textarea {
  background-color: #f0f4ff;
  color: #222;
}
/* Modo oscuro: color para inputs, selects y textareas */
body.dark-theme .detalle-linea input,
body.dark-theme .detalle-linea select,
body.dark-theme .detalle-linea textarea,
body.dark-theme .grupo-tiempo input,
body.dark-theme .grupo-tiempo select,
body.dark-theme .nombre-tarea input[type="text"],
body.dark-theme .acciones-wrapper input,
body.dark-theme .fallas-wrapper input,
body.dark-theme .detalle-wrapper input,
body.dark-theme .descripcion textarea,
body.dark-theme .comentarios textarea {
  background-color: #d8d8d8;
  color: #000000;
}
/* Diferencia de horas visual */
#diferencia-horas {
  color: #0097A9; /* Modo claro */
  font-weight: bold;
}
body.dark-theme #diferencia-horas {
  color: #FFD700 !important; /* Modo oscuro */
}
/* Contenedor para los iconos de acción con borde semiluna */
.iconos-acciones-wrapper {
  margin-left: 12rem;
  position: absolute;
  right: 20px;
  z-index: 2;
  background: var(--action-bg);
  border-radius: 0 40px 40px 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  border: 2px solid var(--action-border);
  padding: 16px 24px 16px 12px;
  display: flex;
  align-items: center;
}
.task-card {
  position: relative;
  max-width: 1100px; /* Aumentado para pantallas anchas */
  width: 100%;
  margin: auto;
  background: #ffffff;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  padding: 2rem; /* un poco más de espacio interior */
}
.iconos-acciones-papelera {
  position: absolute;
  top: 20px;
  right: -75px;
  z-index: 10;
  margin-left: 4rem;
}
.iconos-acciones-descargar {
  position: absolute;
  /* Anclar respecto al top del contenedor en lugar de usar bottom.
     Usar bottom hacía que al aumentar la altura del card (por el textarea)
     la posición vertical cambiara. Con top se mantiene fija.
  */
  top: 90px;
  right: -75px;
  z-index: 10;
  margin-left: 4rem;
}

/* Icon colors use variables so they change with the theme */
.icono-papelera, .icono-descargar {
  color: var(--action-icon);
  transition: color 0.2s, transform 0.2s;
}
.icono-papelera:hover, .icono-descargar:hover {
  color: var(--action-icon-hover);
  transform: scale(1.15);
}
/* Color personalizado para el texto del lema */
/* Reset básico */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Barra flotante superior centrada */
/* Barra superior modo claro */
.header-bar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 70px;
  background-color: #ffffff;
  display: flex;
  align-items: center;
  padding: 0 40px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  z-index: 1000; /* Mantener por debajo del modal */
  color: #222;
}
/* Barra superior modo oscuro */
body.dark-theme .header-bar {
  background-color: #dddddd;
  color: #000000;
}

.logo img {
  height: 40px;
  margin-right: 30px;
}

.menu {
  display: flex;
  align-items: center;
  gap: 20px;
}

.menu-item {
  position: relative;
  cursor: pointer;
  padding: 0 10px;
}

.menu-item span {
  font-weight: bold;
}

.submenu {
  position: absolute;
  top: 100%;
  left: 0;
  background: #e9e9e9 100%;
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
  border-radius: 12px;
  padding: 8px 0 6px 0;
  display: none;
  flex-direction: column;
  min-width: 120px;
  box-sizing: border-box;
  border: #000203;
  transition: opacity 0.3s, transform 0.3s;
  opacity: 0;
  transform: translateX(-50%) translateY(10px);
}

.menu-item:hover .submenu {
  display: flex;
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* Ajuste: mover un poco más a la izquierda el desplegable de la SECCIÓN 1
   Si quieres otro elemento, cambia nth-child(1) por el índice correspondiente
   o usa una clase específica en el HTML. */
.menu-item:nth-child(odd) .submenu {
  /* Selecciona los .menu-item que están en posiciones impares (1,3,5...) */
  /* Así cubrimos los separadores (.divider) entre items y el enlace en la posición 5 */
  transform: translateX(-5%) translateY(10px);
}
.menu-item:nth-child(odd):hover .submenu {
  transform: translateX(-5%) translateY(0);
}

/* Mover solo el desplegable de 'Herramientas' (primer .menu-item) un poco a la derecha
   Usamos :first-of-type para ser específicos y no afectar otros items. */
.menu-item:first-of-type .submenu {
  /* cuando está oculto, lo preposicionamos ligeramente a la derecha */
  transform: translateX(10%) translateY(10px);
}
.menu-item:first-of-type:hover .submenu {
  /* al mostrarlo, lo mantenemos a la derecha pero con la transición vertical normal */
  transform: translateX(10%) translateY(0);
}

.submenu a:hover {
  background-color: #ffffff;
}

.divider {
  width: 1px;
  height: 30px;
  background-color: #ccc;
}


/* Contenedor del botón flotante */
.theme-toggle {
  position: fixed;
  top: 25rem;
  right: 0.3rem;
  z-index: 1000;
  margin: 0;
  padding: 0;
}

/* Botón con semicírculo hacia la derecha */


/* Botón con semicírculo hacia la izquierda */
#toggle-theme {
  width: 60px;
  height: 60px;
  background-color: var(--accent-color);
  color: var(--button-text);
  border: none;
  border-right: 4px solid var(--border-color); /* Borde en el lado derecho */
  border-radius: 30px 0 0 30px; /* Semicírculo hacia la izquierda */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 6px var(--shadow-color);
  transition: background-color 0.3s ease, color 0.3s ease;
  overflow: hidden;
  margin: 0;
  padding: 0;
}

/* Contenedor para el autoborrador: a la izquierda del toggle-theme */
.auto-delete-toggle {
  position: fixed;
  /* Colocar justo debajo del botón de tema: mismo right, top desplazado */
  top: calc(25rem + 72px);
  right: 0.3rem; /* alinea con el toggle de tema */
  z-index: 1000;
}

/* Reusar la misma forma que #toggle-theme pero apuntando a la izquierda */
/* Autoborrador - estado inactivo: verde claro (aplica en claro y oscuro) */
#toggle-autodelete {
  width: 60px;
  height: 60px;
  /* Verde claro agradable y legible */
  background-color: #A7E6A1; /* verde claro */
  color: #06380a; /* texto oscuro para contraste sobre verde claro */
  border: none;
  border-right: 4px solid #8ccf8a; /* borde ligeramente más oscuro */
  border-radius: 30px 0 0 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(6,56,10,0.08);
  transition: background-color 0.18s ease, color 0.18s ease, transform 0.12s ease;
  overflow: hidden;

  margin: 0;
  padding: 0;
}

/* Icono cambia color cuando está activo */
/* Estado activo / inactivo por tema (autoborrador)
   - Inactivo: verde claro
   - Activo: rojo
   Definimos reglas separadas para modo claro y oscuro para garantizar contraste. */

/* Modo claro: inactivo = verde claro, activo = rojo */
body.light-theme #toggle-autodelete {
  background-color: #A7E6A1; /* verde claro */
  color: #06380a; /* texto oscuro para contraste sobre verde */
  border-right-color: #8ccf8a;
  box-shadow: 0 2px 6px rgba(6,56,10,0.08);
}
body.light-theme #toggle-autodelete.active {
  background-color: #FF6B6B; /* rojo claro */
  color: #ffffff;
  border-right-color: #b33;
}

/* Modo oscuro: inactivo = verde más vibrante (sobre fondo oscuro), activo = rojo más profundo */
body.dark-theme #toggle-autodelete {
  background-color: #2FB85B; /* verde vibrante */
  color: #00320a; /* texto oscuro para legibilidad */
  border-right-color: #27a14e;
  box-shadow: 0 2px 8px rgba(0,0,0,0.35);
}
body.dark-theme #toggle-autodelete.active {
  background-color: #D9534F; /* rojo profundo */
  color: #ffffff;
  border-right-color: #b33;
}

/* Tema claro */
body.light-theme {
    /* ...otras variables... */
  background-color: #f5f5f5;
  color: #222;
  --accent-color: #f0f0f0;
  --button-text: #333;
  --border-color: #ccc;
  --shadow-color: rgba(0, 0, 0, 0.1);
  /* Variables para elementos de acción (iconos y botones) */
  --action-bg: #ffffff;
  --action-border: #e0e0e0;
  --action-icon: #000000;
  --action-icon-hover: #444444;
}

body.light-theme .header-bar {
  color: #222; /* Texto oscuro en la franja superior modo claro */
}

/* Tema oscuro */
body.dark-theme {
  /* ...otras variables... */
  background-color: #000000;
  color: #ffffff;
  --accent-color: #222;
  --button-text: #ffffff;
  --border-color: #444;
  --shadow-color: rgba(0, 0, 0, 0.6);
  /* Variables para elementos de acción en modo oscuro */
  --action-bg: #222222;
  --action-border: #444444;
  --action-icon: #ffffff;
  --action-icon-hover: #ffd700;
}

.header-bar.dark-theme {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 70px;
  background-color: #ffffff;
  display: flex;
  align-items: center;
  padding: 0 40px;
  box-shadow: 0 2px 8px rgb(0, 0, 0);
  z-index: 1000;
  color: #000000; /* Color de texto independiente para la franja superior en modo oscuro */
}

body.dark-theme .header-bar {
  color: #000000; /* Texto claro en la franja superior modo oscuro */
}




/* Logo */
.logo img {
  height: 40px;
}

/* Menú */
.menu {
  display: flex;
  gap: 20px;
}

.menu-item {
  position: relative;
}

.menu-item span {
  cursor: pointer;
  font-weight: bold;
  padding: 8px 12px;
  border-radius: 10px;
  transition: background-color 0.3s;
}

.menu-item:hover .submenu {
  display: flex;
  opacity: 1;
  transform: translateY(0);
}

.submenu a {
  padding: 10px 24px;
  text-decoration: none;
  color: #000000;
  font-weight: 500;
  border-radius: 8px;
  margin: 2px 0;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
}

.submenu a:hover {
  background-color: #f0f0f0;
  color: #00375e;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

* {
  box-sizing: border-box;
}

body {
  font-family: "Segoe UI", sans-serif;
  background: #eef1f5;
  margin: 0;
  padding: 2rem;
  color: #2c3e50;
}

.task-card {
  max-width: 1100px;
  margin: auto;
  background: #ffffff;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  padding: 2rem;
}

.detalle-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}

/* Columna izquierda */
.nombre-tarea label {
  display: block;
  font-weight: 600;
  margin-bottom: 0.3rem;
}


/* Colores independientes para los labels de Inicio y Final SOLO en modo oscuro */
body.dark-theme label[for="hora-inicio"] {
  color: #ffffff !important; /* Azul para Inicio en modo oscuro */
}
body.dark-theme label[for="hora-final"] {
  color: #ffffff !important; /* Rojo para Final en modo oscuro */
}

.nombre-tarea input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.9rem;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  margin-bottom: 1rem;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
}

.acciones-wrapper,
.fallas-wrapper,
.detalle-wrapper {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.7rem;
  margin-bottom: 1.2rem;
}

.acciones-wrapper label,
.fallas-wrapper label,
.detalle-wrapper label {
  font-weight: 600;
  white-space: nowrap;
  margin-right: 0.5rem;
}

.acciones-wrapper input,
.fallas-wrapper input,
.detalle-wrapper input {
  flex: 1;
  padding: 0.6rem 0.9rem;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
}

/* Textareas */
.descripcion textarea,
.comentarios textarea {
  width: 100%;
  height: 80px;
  padding: 0.8rem;
  font-size: 1rem;
  border-radius: 6px;
  border: 1px solid #ccc;
  resize: vertical;
  margin-top: 0.5rem;
}

/* Base para detalle-linea */
.detalle-linea {
  display: grid;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.6rem;
}

.detalle-linea label {
  font-weight: 600;
  white-space: nowrap;
}

/* Anchos personalizados por línea */
.gestion-tiempo        { grid-template-columns: 150px 1fr; }
.actualizado-nuevo     { grid-template-columns: 160px 1fr; }
.documentos-cantidad   { grid-template-columns: 140px 1fr; }
.categoria-general     { grid-template-columns: 80px 1fr; }
.analista-area         { grid-template-columns: 110px 1fr; }
.documento-nombre      { grid-template-columns: 180px 1fr; }
.asignado-a            { grid-template-columns: 80px 1fr; }
.prioridad-tipo        { grid-template-columns: 70px 1fr; }
.fecha-entrega         { grid-template-columns: 130px 1fr; }

/* ...existing code... */
.detalle-linea input,
.detalle-linea select {
  padding: 0.6rem 0.9rem;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.05);
  width: 100%;
  background-color: #f0f0f0;
}

.detalle-linea select option {
  background-color: #f0f0f0;
  color: #000000;
}

/* Campos específicos con ancho máximo */
#tiempo       { max-width: 500px; }
#actualizado  { max-width: 480px; }
#documentos   { max-width: 540px; }
#categoria    { max-width: 600px; }
#analista     { max-width: 550px; }
#documento    { max-width: 400px; }
#asignado     { max-width: 410px; }
#prioridad    { max-width: 450px; }

#inicio,
#final        { max-width: 140px; }
#hora-inicio,
#hora-final   { max-width: 1400px; min-width: 170px; }

/* Asegurar que en pantallas pequeñas no se desborde el layout */
@media (max-width: 768px) {
  #inicio, #final, #hora-inicio, #hora-final {
    max-width: 100%;
    min-width: 0;
  }
}

/* Pie */
.hint {
  font-size: 0.95rem;
  color: #555;
  font-style: italic;
  margin: 0 auto;
  text-align: center;
}

.comentario-centro {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 2rem;
}

/* Botones principales */
.comentario-centro button {
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  border-radius: 6px;
  border: none;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

/* Estilos específicos por función */
button[onclick="descargarDatos()"] {
  background-color: #3498db;
}

button[onclick="borrarDatos()"] {
  background-color: #e74c3c;
}

button[onclick="borrarHistorial()"] {
  background-color: #DA291C;
}

button[onclick="guardarFormulario()"] {
  background-color: #0097A9;
}

button[onclick="descargarTodoCSV()"] {
  background-color: #FF8200;
}

/* Hover para todos los botones */
.comentario-centro button:hover {
  opacity: 0.9;
}

/* Responsive */
@media (max-width: 768px) {
  .detalle-grid {
    grid-template-columns: 1fr;
  }

  .detalle-linea {
    grid-template-columns: 1fr;
  }

  .detalle-linea label {
    margin-bottom: 0.4rem;
  }

  .comentario-centro {
    flex-direction: column;
    align-items: center;
  }

  .comentario-centro button {
    width: 100%;
    max-width: 300px;
  }
}

.barra-tiempo {
  display: flex;
  justify-content: flex-end;
  gap: 1.5rem;
  max-width: 1100px;
  margin: 0 auto 1rem auto;
  flex-wrap: wrap;
}

.grupo-tiempo {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

.grupo-tiempo label {
  font-weight: 600;
}

/* ...existing code... */
.grupo-tiempo input,
.grupo-tiempo select {
  padding: 0.5rem 0.8rem;
  font-size: 0.95rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
  background-color: #f0f0f0;
}

.grupo-tiempo select option {
  background-color: #d8d8d8;
  color: #000000;
}

#hora-inicio,
#hora-final {
  text-align: center;
}

/* Forzar ancho de los inputs de hora dentro de la barra de tiempo
   para que el nuevo formato "HH:MM:SS DD/MM/AAAA" no se corte.
   Se usa flex: none para evitar que el contenedor flex los reduzca. */
.barra-tiempo .grupo-tiempo input#hora-inicio,
.barra-tiempo .grupo-tiempo input#hora-final {
  width: 170px; /* ancho fijo deseado */
  min-width: 80px;
  flex: none; /* evitar que el flex los encoja */
  box-sizing: border-box;
  padding: 0.5rem 0.6rem;
}

.barra-tiempo .grupo-tiempo select#inicio,
.barra-tiempo .grupo-tiempo select#final {
  flex: none; /* mantener su tamaño y no comprimir inputs */
  min-width: 140px;
  width: 140px;
}

@media (max-width: 768px) {
  .barra-tiempo .grupo-tiempo input#hora-inicio,
  .barra-tiempo .grupo-tiempo input#hora-final {
    width: 100%;
    min-width: 0;
  }
  .barra-tiempo .grupo-tiempo select#inicio,
  .barra-tiempo .grupo-tiempo select#final {
    width: auto;
  }
}

.version-box {
  font-size: 0.85rem;
  color: #2c3e50;
  background-color: #d6eaf8;
  padding: 0.4rem 0.8rem;
  border-radius: 8px;
  float: right;
  margin-top: 0.4rem;
  margin-right: 1rem;
  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.1);
  font-style: normal;
}

.lema-version-wrapper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
  max-width: 1100px;
  margin: 2rem auto 0 auto;
  padding-top: 1rem;
  border-top: 1px solid #ccc;
}

.lema-wrapper {
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}


.barra-tiempo {
  margin-top: 50px; /* Ajusta el valor según el espacio que necesites */
}

/* Estilos para la tabla de registros en Registros.html */
.registros-table {
  width: 100%;
  border-collapse: collapse;
  background: #ffffff;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  overflow: hidden;
}
.registros-table th,
.registros-table td {
  padding: 0.6rem 0.8rem;
  border-bottom: 1px solid #f0f0f0;
  text-align: left;
  font-size: 0.95rem;
}
.registros-table thead th {
  background: #f6f8fb;
  position: sticky;
  top: 0;
  z-index: 2;
}
.registros-table tbody tr:hover {
  background: #fbfdff;
}

/* Responsive: convertir en tarjetas en pantallas estrechas */
@media (max-width: 920px) {
  .registros-table,
  .registros-table thead,
  .registros-table tbody,
  .registros-table th,
  .registros-table td,
  .registros-table tr {
    display: block;
  }

  .registros-table thead tr { display: none; }

  .registros-table tbody tr {
    margin-bottom: 1rem;
    background: #fff;
    border: 1px solid #e9eef5;
    border-radius: 8px;
    padding: 0.6rem;
  }

  .registros-table td {
    padding: 0.4rem 0.6rem;
    border: none;
    position: relative;
  }

  .registros-table td::before {
    content: attr(data-label);
    font-weight: 700;
    display: inline-block;
    width: 140px;
    color: #333;
  }
}

/* Estilos para la barra de filtros de columnas */
#column-filters {
  background: transparent;
  padding: 0.4rem 0.2rem;
}
#column-filters label {
  font-size: 0.95rem;
}
#column-filters input[type="checkbox"] {
  transform: scale(1.5);
  margin-left: 0.25rem;
  margin-right: 0.15rem;
}

.column-filters-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  background: #ffffff;
  border: 1px solid #e0e0e0;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  padding: 0.6rem;
  border-radius: 8px;
  min-width: 260px;
  z-index: 2000;
}

/* Botones reutilizables */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.45rem 0.7rem;
  border-radius: 8px;
  border: 1px solid transparent;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.95rem;
}
.btn svg { width: 16px; height: 16px; display:block; }
.btn:focus { outline: 2px solid rgba(0,150,170,0.2); outline-offset: 2px; }

.btn-primary { background: linear-gradient(180deg,#008dae,#00788f); color: #fff; border-color: rgba(0,0,0,0.06); }
.btn-ghost { background: transparent; color: #222; border-color: #ddd; }
.btn-danger { background: linear-gradient(180deg,#e74c3c,#c92b20); color: #fff; border-color: rgba(0,0,0,0.06); }
.btn-neutral { background: #f5f7fa; color: #222; border-color: #e6e9ef; }

/* Ajustes para botones pequeños dentro de la tabla */
.btn-sm { padding: 0.25rem 0.45rem; font-size: 0.88rem; border-radius: 6px; }
.btn-sm svg { width: 14px; height: 14px; }

/* Minimal icon style for inline use */
.icon-left { margin-right: 0.4rem; }

.column-filters-dropdown div {
  white-space: nowrap;
}

.column-filters-dropdown button {
  display: block;
  width: 100%;
  padding: 0.25rem 0;
  background: none;
  border: none;
  text-align: left;
  cursor: pointer;
  font-size: 0.9rem;
  color: #333;
  border-radius: 4px;
}

.column-filters-dropdown button:hover {
  background: #f0f0f0;
}

/* ------------------ Dark mode enhancements ------------------ */
body.dark-theme .btn {
  border-color: rgba(255,255,255,0.06);
  color: #e6eef6;
}

body.dark-theme .btn-neutral {
  background: #162029;
  color: #e6eef6;
  border-color: #223038;
}

body.dark-theme .btn-primary {
  background: linear-gradient(180deg,#007b8f,#00636f);
  color: #fff;
}

body.dark-theme .btn-danger {
  background: linear-gradient(180deg,#d9534f,#b93a34);
  color: #fff;
}

/* Tabla en modo oscuro */
body.dark-theme .registros-table {
  background: #071019;
  border-color: #122025;
}
body.dark-theme .registros-table thead th {
  background: linear-gradient(180deg,#071219,#0b1620);
  color: #cfeaf6;
}
body.dark-theme .registros-table td {
  color: #cfeaf6;
  border-bottom-color: #0e1a22;
}

.registros-table input[type="checkbox"] {
  transform: scale(2);
}
body.dark-theme .registros-table tbody tr:hover {
  background: #071923;
}

/* Dropdown en modo oscuro */
body.dark-theme .column-filters-dropdown {
  background: #07121a;
  color: #d9eef6;
  border-color: #12303a;
  box-shadow: 0 8px 24px rgba(0,0,0,0.6);
}

/* Inputs y selects en dark */
body.dark-theme input[type="search"],
body.dark-theme select,
body.dark-theme input[type="text"],
body.dark-theme textarea {
  background: #d8d8d8;
  color: #000000;
  border: 1px solid #12303a;
}

/* Header bar dark adjustments */
body.dark-theme .header-bar {
  background: #dddddd;
  color: #000000;
  box-shadow: 0 6px 20px rgba(0,0,0,0.6);
}

/* Theme toggle button contrast */
body.dark-theme #toggle-theme {
  background-color: #222;
  color: #000000;
  border-right-color: #444;
}

/* Ensure dropdown checkbox labels are readable */
body.dark-theme .column-filters-dropdown label { color: #d7eef6; }

body.dark-theme .column-filters-dropdown button { color: #d7eef6; }
body.dark-theme .column-filters-dropdown button:hover { background: #0e1a22; }

/* Make small buttons stand out on dark backgrounds */
body.dark-theme .btn-sm { background: rgba(255,255,255,0.03); border-color: rgba(255,255,255,0.03); }

/* End dark mode enhancements */

/* Modal de edición */
.modal { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 99999; }
.modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.45); z-index: 99990; }
.modal-content { position: relative; background: #fff; border-radius: 12px; padding: 1rem 1.25rem; width: 94%; max-width: 760px; max-height: 95vh; overflow-y: auto; box-shadow: 0 10px 40px rgba(0,0,0,0.2); z-index: 99999; }
.modal-content header h2 { margin: 0; font-size: 1.1rem; }
.modal-content input, .modal-content textarea { width: 100%; padding: 0.6rem; border-radius: 8px; border: 1px solid #ddd; background: #fafafa; resize: vertical; }

body.dark-theme .modal-content { background: #071219; color: #e6eef6; box-shadow: 0 10px 40px rgba(0,0,0,0.6); }
body.dark-theme .modal-content input, body.dark-theme .modal-content textarea { background: #07121a; color: #e6eef6; border: 1px solid #13303a; resize: vertical; }

@media (max-width: 520px) {
  .modal-content { padding: 0.8rem; }
  .modal-content input, .modal-content textarea { padding: 0.5rem; resize: vertical; }
}

/* Breakpoint para pantallas grandes: dar más ancho al modal sin romper diseño */
@media (min-width: 1100px) {
  .modal-content {
    max-width: 1100px; /* modal más ancho en pantallas grandes */
    padding: 1.25rem 1.5rem;
  }
  .task-card {
    padding: 2.5rem;
    max-width: 1100px; /* permitir layout más espacioso en pantallas muy anchas */
  }
}

/* Estilos para filtros desplegables en tabla */
.filter-input {
  padding: 0.25rem 0.5rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 0.875rem;
  box-sizing: border-box;
  min-width: 120px; /* ancho mínimo */
}
body.dark-theme .filter-input {
  background-color: #333;
  color: #fff;
  border-color: #555;
}
body.light-theme .filter-input {
  background-color: #fff;
  color: #000;
}

/* Estilos para icono de filtro */
.filter-icon {
  display: inline-block;
  vertical-align: middle;
}
.filter-icon svg {
  color: #666;
  transition: color 0.2s, fill 0.2s;
}
body.dark-theme .filter-icon svg {
  color: #ccc;
}
.filter-icon.active svg {
  fill: currentColor;
  stroke: currentColor;
  color: #007bff;
}
body.dark-theme .filter-icon.active svg {
  color: #4dabf7;
}
